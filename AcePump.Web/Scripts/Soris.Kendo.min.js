/*Soris Software (http://www.sorissoftware.com)
Copyright 2015 Soris Software LLC (TM). All rights reserved.

This file is exclusive property of Soris Software.  Your usage is governed by the terms of your "Software Tools" license from Soris Software.  If you do not have a "Software Tools" license from Soris Software, you are not authorized to use this file in any way.*/

/*! Soris 05-05-2016 */

!function(a){"use strict";window.Soris={namespace:function(b){for(var c=b.split("."),d=this,e=0;e<c.length;e++){var f=c[e];d[f]===a&&(d[f]={}),d=d[f]}return d}}}(),function(a,b){"use strict";a.Class=function(){},a.Class.extend=function(a){function b(){}var c=this,d=a;for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return b.prototype=c.prototype,d.prototype=new b,d.prototype._MyBase=b.prototype,d.prototype.constructor=d,d.prototype.__FirstBaseCtor=c,d.prototype._MyBaseCtor=function(){this._MyBaseCtor=c.prototype._MyBaseCtor,c.apply(this,arguments),this._MyBaseCtor=this.__FirstBaseCtor},d}}(window.Soris),function(a){a.Utility={isUndefined:function(a){return"undefined"==typeof a},argumentRequired:function(b,c){if(a.Utility.isUndefined(b))throw new Error(c+" is a required argument!")},getComparer:function(b){switch(b){case"date":var c=a.Utility.getComparer("int");return function(a,b){return c(a.getTime(),b.getTime())};case"int":return function(a,b){return a===b?0:b>a?-1:1};default:return a.Utility.getComparer("int")}},getParser:function(a){switch(a){case"date":return function(a){return new Date(a)};default:return function(a){return a}}},isDateValid:function(a){var b=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/,c=a.match(b);if(null===c)return!1;var d=c[2],e=c[1],f=c[3],g=[31,28,31,30,31,30,31,31,30,31,30,31];return(f%400===0||f%100!==0&&f%4===0)&&(g[1]=29),1>d||d>g[e-1]?!1:1>e||e>12?!1:1>f?!1:!0},getQstringParam:function(b){if(a.Utility.isUndefined(window))throw new Error("cannot use getQstringParam outside of a browser window.");if(a.Utility.isUndefined(a.Utility._qstringParams)){var c,d=/([^&=]+)=?([^&]*)/g,e=function(a){return decodeURIComponent(a.replace(/\+/g," "))},f=window.location.search.substring(1);for(qstringParams={};null!==(c=d.exec(f));)qstringParams[e(c[1])]=e(c[2]);a.Utility._qstringParams=qstringParams}return a.Utility._qstringParams[b]},loadDefaults:function(b,c){if(a.Utility.isUndefined(c))return b;for(var d in b)b.hasOwnProperty(d)&&(a.Utility.isUndefined(c[d])?c[d]=b[d]:"object"==typeof b[d]&&a.Utility.loadDefaults(b[d],c[d]));return c},redirect:function(a){window.location=a}}}(window.Soris),function(a,b,c){"use strict";var d=a.namespace("Ui"),e=a.Class.extend(function(){this.UiComponentFactory=new a.Ui.KendoUiComponentFactory,this.p_uiComponentFactory=this.UiComponentFactory});e.prototype.render=function(a){throw new Error("component must implement render!")},d.UiComponentBase=e}(window.Soris,jQuery),function(a,b,c){"use strict";var d=a.namespace("Ui"),e=a.Class.extend(function(){});e.prototype.RenderSpinner=function(a,b){throw"Provider must implement RenderSpinner"},e.prototype.RenderDatePicker=function(a,b){throw"Provider must implement RenderDatePicker"},e.prototype.RenderEditor=function(a,b){throw"Provider must implement RenderEditor"},e.prototype.RenderDropDown=function(a,b){throw"Provider must implement RenderDropDown"},e.prototype.renderGrid=function(a,b){throw new Error("Provider must impleement RenderGrid")},d.UiComponentFactory=e}(window.Soris,jQuery),function(a,b,c){"use strict";var d=a.namespace("Ui"),e=d.UiComponentBase.extend(function(){});e.prototype.Clear=function(){throw"Provider must implement Clear"},e.prototype.Add=function(a,b){throw"Provider must implement Add"},d.DropDownList=e}(window.Soris,jQuery),function(a,b,c){"use strict";var d=a.namespace("Ui"),e=d.UiComponentBase.extend(function(a){this._KendoDropDown=a});e.prototype.Clear=function(){this._KendoDropDownList.dataSource.clear()},e.prototype.Add=function(a,b){this._KendoDropDownList.dataSource.Add({text:a,value:b})},d.KendoDropDownListWrapper=e}(window.Soris,jQuery),function(a){"use strict";var b=a.namespace("Ui"),c=a.Class.extend(function(b){this.options=a.Utility.loadDefaults({},b)});c.prototype.setStaticFilters=function(a){throw new Error("must implement setStaticFilters")},b.GridBase=c}(window.Soris),function(a){"use strict";var b=a.namespace("Ui"),c=b.GridBase.extend(function(a){this._grid=a,this._currentStaticFilters=[]});c.prototype.setStaticFilters=function(b){var c=this._grid.dataSource.filter(),d=a.Utility.isUndefined(c)?[]:c.filters;this._removeStaticFilters(d),this._currentStaticFilters=b,this._addStaticFilters(d),this._grid.dataSource.filter(d)},c.prototype._removeStaticFilters=function(a){for(var b=0;b<this._currentStaticFilters.length;b++)for(var c=this._currentStaticFilters[b],d=0;d<a.length;d++){var e=a[d];if(c.field===e.field){a.splice(d,1);break}}},c.prototype._addStaticFilters=function(a){for(var b=0;b<this._currentStaticFilters.length;b++)a.push(this._currentStaticFilters[b])},b.KendoGridWrapper=c}(window.Soris),function(a,b,c){"use strict";var d=a.namespace("Ui"),e=d.UiComponentFactory.extend(function(){this._MyBaseCtor()});e.prototype.RenderSpinner=function(a,c){return b(a).kendoNumericTextBox(c)},e.prototype.RenderDatePicker=function(a,c){return b(a).kendoDatePicker(c)},e.prototype.RenderEditor=function(a,b){return a},e.prototype.RenderDropDown=function(c,d){return new a.Ui.KendoDropDownListWrapper(b(c).kendoDropDown(d))},e.prototype.renderGrid=function(b,c){return new a.Ui.KendoGridWrapper({grid:b.kendoGrid(c)})},d.KendoUiComponentFactory=e}(window.Soris,jQuery),function(a,b,c){"use strict";var d=a.namespace("Ui"),e=d.UiComponentBase.extend(function(){});e.prototype._OnSelect=function(a){var c=b.Event("select");c.text=a.text(),c.value=a.val(),b(this).trigger(c),c.isDefaultPrevented()||(this._Title.text(c.text),this._ShowLink())},e.prototype.SelectedValue=function(){return this._Selector.val()},e.prototype.LoadValues=function(a){this._Selector.empty();for(var c=0;c<a.length;c++)this._Selector.append(b("<option>").val(a[c].value).text(a[c].text));a.length>1?this._ShowLink():this._ShowTitleOnly()},e.prototype.Render=function(a){this._Title=b("<span>"),this._Selector=b("<select>").on("change",function(a){var c=b(this).find(":selected"),d=b(this).closest(".s-show-more-container"),e=d.data("sorisShowMore");e._OnSelect(c)}).hide(),this._Link=b("<a>See More</a>").prop("href","#").click(function(a){var c=b(this).closest(".s-show-more-container"),d=c.data("sorisShowMore");d._ShowSelector(),a.preventDefault()}).hide();var c=b("<span>").addClass("s-show-more-container");c.append(this._Title),c.append(this._Selector),c.append(this._Link),c.data("sorisShowMore",this),a.append(c)},e.prototype._ShowSelector=function(){this._Selector.show(),this._Link.hide()},e.prototype._ShowLink=function(){this._Link.show(),this._Selector.hide()},e.prototype._ShowTitleOnly=function(){this._Title.show(),this._Link.hide(),this._Selector.hide()},d.ShowMoreSelector=e}(window.Soris,jQuery),function(a,b){"use strict";b(window).load(function(){a.Kendo.GridHelper.InitializeAllGrids(!0)})}(window.Soris,jQuery),function(a,b,c){"use strict";var d=a.namespace("Kendo"),e=function(a){this._JqObj=a,this._KGrid=a.data("kendoGrid"),this._ColumnCount=null};e.GetHelper=function(a){if(0===a.length)throw"cannot get helper, arg null!";e._LoadGrids();for(var b=0;b<e._Helpers.length;b++)if(e._Helpers[b]._JqObj.is(a))return e._Helpers[b];var c=new e(a);return e._Helpers.push(c),c},e._Helpers=[],e._GridsLoaded=!1,e.InitializeAllGrids=function(a){e._LoadGrids(a);for(var b=0;b<e._Helpers.length;b++){var c=e._Helpers[b];c.Initialize()}},e._LoadGrids=function(a){if(a!==c&&a)e._Helpers=[],e._GridsLoaded=!1;else if(e._GridsLoaded)return;e._GridsLoaded=!0;var d=b("div.k-grid").filter(function(){return b(this).data("kendoGrid")!==c});d.each(function(){e._Helpers.push(new e(b(this)))})},e.GetHelperFromEvent=function(a){var d;if(a.currentTarget!==c)d=b(a.currentTarget).closest(".k-grid");else{if(a.sender===c||a.sender.element===c)throw"Event does not contain reference to a grid, could not get helper!";d=a.sender.element}return e.GetHelper(d)},e.prototype.GetDataItemFromEvent=function(a){var c=b(a.currentTarget).closest("tr"),d=this._KGrid.dataItem(c);return d},e.prototype.Refresh=function(){this._KGrid.dataSource.read(),this._KGrid.refresh()},e.prototype.SaveGrid=function(){this._KGrid.dataSource.sync()},e.prototype.Aggregate=function(a){if("function"!=typeof a)throw"Illegal callback";for(var b=this._KGrid.dataSource.data(),c=0;c<b.length;c++)a(b[c])},e.prototype._GetColumnCount=function(){return null===this._ColumnCount&&(this._ColumnCount=this._KGrid.table.find(".k-grid-header colgroup > col").length),this._ColumnCount},e.prototype.Initialize=function(){this._LoadOptions(),this._CreateFixedHeaderRow(),this._AttachHandlers()},e.prototype._LoadOptions=function(){var a=this._KGrid.element.data("sorisGridOptions");a===c&&(a={}),this._Options={ShowNoRecordsMessage:a.ShowNoRecordsMessage||!1}},e.prototype.Grid=function(){return this._KGrid},e.prototype._GetHasChangesMessageContainer=function(){if(this._HasChangesMessage===c){this._HasChangesMessage=b('<span class="s-grid-change-message" />');var a=this._KGrid.element.find(".k-toolbar");a.length>0&&a.append(this._HasChangesMessage)}return this._HasChangesMessage},e.prototype._ShowHasChangesMessage=function(){this._GetHasChangesMessageContainer().html("There are changes!")},e.prototype._ClearHasChangesMessage=function(){this._GetHasChangesMessageContainer().empty()},e.prototype.DisableEditorFor=function(a,c){var d="[name="+c+"]",e=b(a.container).find(d),f=e.closest("td");f.prop("disabled",!0),f.html(e.val())},e.prototype._CreateFixedHeaderRow=function(){var a=this._KGrid.table.find("thead").clone();this._FixedHeaderRow=b('<table style="position: fixed; top: 0px; left: 50%; display: none;">'),this._FixedHeaderRow.append(a),this._JqObj.append(this._FixedHeaderRow),this._UpdateFixedHeader()},e.prototype._DataBoundRedrawLoop=function(a){var b=this._KGrid.dataSource.data().length,c=this._KGrid.table.find("tr[role=row]").length;if(b!==c){var d=this;window.setTimeout(function(){d._DataBoundRedrawLoop(a)},100)}else a()},e.prototype._UpdateFixedHeader=function(){this._DetectFixedHeaderPositions(),this._CalculateFixedHeaderSize()},e.prototype._DetectFixedHeaderPositions=function(){this._FixedHeaderTop=this._KGrid.table.offset().top,this._FixedHeaderBottom=this._FixedHeaderTop+this._KGrid.table.height()-50},e.prototype._CalculateFixedHeaderSize=function(){for(var a=this._KGrid.table.find("th"),c=this._FixedHeaderRow.find("th"),d=0;d<a.length;d++){var e=b(c[d]),f=b(a[d]);e.width(f.width()),e.text(f.text())}this._FixedHeaderRow.width(this._KGrid.table.find("thead").width()),this._FixedHeaderRow.css("margin-left",this._FixedHeaderRow.width()/2*-1)},e.prototype._AttachHandlers=function(){var a=this;this._KGrid.dataSource.bind("error",function(b){b.errors!==c?a.DisplayErrors(b.errors):b.xhr!==c&&500==b.xhr.status?a.DisplayError("An unrecoverable server error occured (500).  Your request was not saved."):a.DisplayError("An unrecoverable grid error occured.  Your request was not saved.")}),this._KGrid.bind("dataBound",function(b){0===a._KGrid.dataSource.data().length&&a.DisplayNoResults(),a._DataBoundRedrawLoop(function(){a._UpdateFixedHeader()})}),this._KGrid.bind("columnResize",function(b){a._UpdateFixedHeader()}),this._KGrid.bind("edit",function(b){if(b.model.isNew()){var c=b.container.closest("tr");a._AutoBindNewItemValues(c)}}),b(window).bind("scroll",function(){var c=b(this).scrollTop();c>=a._FixedHeaderTop&&c<=a._FixedHeaderBottom?a._FixedHeaderRow.show():(c<a._FixedHeaderTop||c>a._FixedHeaderBottom)&&a._FixedHeaderRow.hide()})},e.prototype._AutoBindNewItemValues=function(a){for(var c=this._KGrid.dataItem(a),d=a.find("td"),e=0;e<d.length;e++){var f=this._ControlForAutoBinding(d[e]);if(f.length>0){var g=b(d[e]).data("containerFor");c[g]=f.val()}}},e.prototype._ControlForAutoBinding=function(a){var c=b(a).find(".k-dropdown input");return c},e.prototype.DisplayError=function(a){this.DisplayErrors({Error:{errors:[a]}})},e.prototype.DisplayErrors=function(a){var b="";for(var c in a)for(var d=a[c].errors,e=0;e<d.length;e++)b+=c+": "+d[e]+"\n";window.alert(b),this._KGrid.cancelChanges()},e.prototype.DisplayNoResults=function(){if(this._Options.ShowNoRecordsMessage){var a='<tr class="kendo-data-row s-empty-results"><td colspan="'+this._GetColumnCount()+'">No records found.</td></tr>';this._KGrid.table.append(a)}},d.GridHelper=e}(window.Soris,jQuery);
//# sourceMappingURL=Soris.kendo.min.js.map